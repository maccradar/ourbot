#include "current_sensor_analog.h"

CurrentSensorAnalog::CurrentSensorAnalog(uint8_t pin = 255) :
	CurrentSensorInterface(ID), _pin(pin)
{
	//do nothing
}

void CurrentSensorAnalog::init()
{
	pinMode(_pin, INPUT);
}

int16_t CurrentSensorAnalog::readCurrent()
{
	_current_raw = analogRead(_pin);
	_current = (_current_raw - _offset)*_scale;
	return _current;
}
