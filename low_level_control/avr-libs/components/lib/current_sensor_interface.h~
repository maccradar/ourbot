#ifndef CURRENT_SENSOR_INTERFACE
#define CURRENT_SENSOR_INTERFACE

class CurrentSensorInterface 
{
protected:
	int16_t _current;		//current in mA
	uint16_t _current_raw;	//raw current measurement
	int16_t _offset;
	float _scale;

public:
	CurrentSensorInterface() :
		_current(0), _current_raw(0), _offset(0), _scale(1.0f)
	{
		//do nothing
	}
	
	uint16_t currentRaw(){ return _current_raw; }
	void setCurrentRaw(uint16_t current_raw){ _current_raw = current_raw; }
	
	virtual void init(){}
	virtual int16_t read(){ return _current = (_current_raw - _offset)*_scale; }
	int16_t peek(){ return _current; }
};

#endif //CURRENT_SENSOR_INTERFACe
